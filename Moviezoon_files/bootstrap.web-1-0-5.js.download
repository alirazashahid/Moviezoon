define(["require","exports"],(function(n,t){"use strict";function e(t){return new Promise((function(t,e){n(["./model.w.c7e8eca1"],t,e)})).then((function(n){return n.player.subscribe(t)}))}function r(n,t){return!n||n!==t&&(n.track!==t.track||n.radioStation!==t.radioStation||n.playing!==t.playing||n.queue!==t.queue)}y("t",1);var u={"L":"l-f986eb56.css","M_P":"mp-b2020b2a.css","T_P":"tp-dd71b91c.css"};function i(){return new Promise((function(t,e){n(["./model.w.c7e8eca1"],t,e)})).catch((function(n){return y("m"),n}))}function o(){return new Promise((function(t,e){n(["./layer.w.14179fbc"],t,e)})).catch((function(n){return y("l"),n}))}function c(){return new Promise((function(t,e){n(["./mini-player.w.22939923"],t,e)})).catch((function(n){return y("m-p"),n}))}function a(){return new Promise((function(t,e){n(["./tracks-picker.w.2f14cc97"],t,e)})).catch((function(n){return y("t-p"),n}))}function f(){return i().then((function(n){return n.player}))}function l(){return i().then((function(n){return n.library}))}function s(n){return n.state.playing?n.pause():n.play()}function d(n,t,e,r){return i().then((function(n){return(0,n.init)()})),Promise.all([t(),h(n,e)]).then((function(t){return t[0].mount(n,r||{})}))}function h(t,e){return new Promise((function(r){var u=function(n,t){var e=document.createElement("link");return e.rel=n,e.href=t,e}("stylesheet",function(t){"."!==t[0]&&"/"!==t[0]&&(t="./"+t);return n.toUrl(t)}(e)),i=function(n){y(n),clearTimeout(o)},o=setTimeout(i,6e4,"s-t");u.addEventListener("load",(function(){clearTimeout(o),r()})),u.addEventListener("error",(function(){return i("s-e")})),(1!==t.nodeType?t:document.head).appendChild(u)}))}function y(n,t){OK.logger[t?"success":"clob"]("music.b."+(t?"s":"f"),n)}t.addPlaylist=function(n){return l().then((function(t){return t.addPlaylist(n)}))},t.addTrack=function(n,t){return i().then((function(e){return e.tracks.add({id:""+n,ctx:t})}))},t.loadModel=i,t.loadMyTracks=function(){return l().then((function(n){return n.fetchTracks()})).then((function(n){return n.items}))},t.louder=function(){return f().then((function(n){return n.setVolumeRelative(1)}))},t.mountLayer=function(n,t){return d(n,o,u.L,t||{})},t.mountMiniPLayer=function(n){return d(n,c,u.M_P)},t.mountMusicPicker=function(n){return d(n,a,u.T_P)},t.nextTrack=function(){return f().then((function(n){return n.next()}))},t.onPlayItemChanged=function(n){var t;return e((function(e){r(t,e)&&n({track:e.track,radioStation:e.radioStation,playing:e.playing,playlistType:e.queue.type,playlistId:e.queue.id}),t=Object.assign(e,{})}))},t.onTrackChanged=function(n){var t;return e((function(e){var u;r(t,e)&&n({id:null===(u=e.track)||void 0===u?void 0:u.id,playing:e.playing,playlistType:e.queue.type,playlistId:e.queue.id}),t=Object.assign(e,{})}))},t.pause=function(){return f().then((function(n){return n.pause()}))},t.play=function(n,t){return f().then((function(e){var r;return(null===(r=e.state.track)||void 0===r?void 0:r.id)===n?s(e):e.play(n,t)}))},t.playQueue=function(n,t,e){return f().then((function(r){var u=r.state,i=u.playing,o=u.queue;if(!i||o.type!==n||o.id!==t)return r.playQueue(n,t,e);s(r)}))},t.prevTrack=function(){return f().then((function(n){return n.prev(!0)}))},t.quieter=function(){return f().then((function(n){return n.setVolumeRelative(-1)}))},t.removePlaylist=function(n){return l().then((function(t){return t.removePlaylist(n)}))},t.removeTrack=function(n){return l().then((function(t){return t.removeTrack(n)}))},t.searchTracks=function(n){return i().then((function(t){return t.search.loadResults("tracks",n)})).then((function(n){return n.results.items}))},t.seekBackward=function(){return f().then((function(n){return n.seekRelative(-1)}))},t.seekForward=function(){return f().then((function(n){return n.seekRelative(1)}))},t.share=function(n,t,e){return i().then((function(r){return r.sharing.share(n,t,e)}))},t.togglePlaying=function(){return f().then((function(n){return s(n)}))},t.unmountLayer=function(n){return o().then((function(t){return(0,t.unmount)(n)}))},t.unmountMusicPicker=function(n){return a().then((function(t){return(0,t.unmount)(n)}))}}));
//# sourceMappingURL=bootstrap.web-1-0-5.js.map
