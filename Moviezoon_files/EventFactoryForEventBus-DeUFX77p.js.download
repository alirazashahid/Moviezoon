function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}define([],function(){var h={};"use strict";var a=/*#__PURE__*/function(){"use strict";function l(){_class_call_check(this,l);this.list=[]}_create_class(l,[{key:"_callHandler",value:function _callHandler(n,t,e){n.call(e,t);return this}},{key:"trigger",value:function trigger(n){var t=this;var e=t.list.slice();var s=arguments[1];var i=[];for(var c=0,r=e.length;c<r;c++){var o=e[c];if(o){if(o.once){i.push(o)}t._callHandler(o.handler,n||s,o.context)}}i.forEach(function(c){var r=t.list.indexOf(c);if(r!==-1){t.list.splice(r,1)}});return t}},{key:"attach",value:function attach(n,t){var e=this;e.list.push(l.wrapMethod(n,t));return e}},{key:"attachOnce",value:function attachOnce(n,t){var e=this;var s=l.wrapMethod(n,t);s.once=true;e.list.push(s);return e}},{key:"detach",value:function detach(n,t){var e=this;var s=e.list;var i=s.length;while(i-- >0){var c=s[i];if(c.handler===n&&c.context===t){s.splice(i,1)}}return e}}]);return l}();a.wrapMethod=function(d,n){return{context:n,handler:d,once:false}};var u=a;var f={create:function(){return new u}};h.eventFactory=f;return h});