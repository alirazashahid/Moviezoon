"use strict";function _instanceof(left,right){if(right!=null&&typeof Symbol!=="undefined"&&right[Symbol.hasInstance]){return!!right[Symbol.hasInstance](left)}else{return left instanceof right}}function _type_of(obj){"@swc/helpers - typeof";return obj&&typeof Symbol!=="undefined"&&obj.constructor===Symbol?"symbol":typeof obj}function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);if(e){Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:true,get:function get(){return e[r]}})}})}t.default=e;return t}(function(){function e(){var n=arguments[0];for(var a=1;a<arguments.length;a++){n=n.replace(/%s/,arguments[a])}return n}function t(n){var a=n.stack;if(a){var o=n.message;var s=a.indexOf(o);if(s!==-1){var f=s+o.length;o=a.substring(0,f);a=a.substring(f+1)}var h=a.split("\n").filter(function(g,O){return!(O===0||g.includes("chrome-extension"))}).join("\n");n.stack=o+"\n"+h}return n}var r={log:window.console.log,warn:window.console.warn,error:window.console.error};Object.assign(window.console,{info:function info(){OK.Tracer.log("[Info]: "+Array.from(arguments).join(" "));r.log.apply(this,arguments)},warn:function warn(){OK.Tracer.log("[Warning]: "+Array.from(arguments).join(" "));r.warn.apply(this,arguments)},error:function error(){if(arguments.length>0){var n=arguments[0];var a;if(_instanceof(n,Error)){a=n}else if(typeof n==="string"){var o=Array.from(arguments);a=t(new Error(n.includes("%s")?e.apply(this,o):o.join(" ")))}else{a=t(new Error(JSON.stringify(n)))}OK.Tracer.error(a)}r.error.apply(this,arguments)}})})();var OK$3=window.OK||(window.OK={});OK$3.cnst={pageCtx:window.pageCtx,staticUrl:window.pageCtx["staticResourceUrl"]};OK$3.navigation={SPLITER:"<!--&-->",HEADER:"Rendered-Blocks",redirect:false};OK$3.getCurrentStateLink=OK$3.getCurrentStateLink||function(){return"/dk?"+window.pageCtx.state.replace(/&amp;/g,"&")};OK$3.fn=function(){return{empty:function empty(){},isDebug:function isDebug(){return document.getElementById("__gwtd__m")!=null},delegate:function delegate(e,t,r){return function(){var n=Array.prototype.slice.call(arguments);var a=(t||[]).concat(n);return e.apply(r||this,a)}},deferred:function deferred(e,t,n){var n=Array.prototype.slice.call(n);return function(){var a=e[t];return a.apply(e,n)}},logging:function logging(e,t){var r=t||OK$3.logging.currentLoggerFn||OK$3.fn.empty;return function(){try{return e.apply(this,arguments)}catch(n){OK$3.Tracer.error(n);r.call(window,n)}}}}}();OK$3.hookModel=OK$3.hookModel||{getHookById:OK$3.fn.empty,removeHookById:OK$3.fn.empty,getNearestBlockHookId:OK$3.fn.empty,setHookContent:function setHookContent(e,t,r){if(e=="HeadMeta"){a(t)}else{var n=document.getElementById("hook_Block_"+e);if(n){if(require.defined("OK/capture")){require("OK/capture").deactivate(n)}n.innerHTML=t;require(["OK/capture"],function(o){o.activate(n)})}}function a(o){var s=document.getElementsByTagName("head")[0];var f=s.childNodes;var h=false;for(var g=0;g<f.length;){n=f[g];if(n.nodeType==8&&n.textContent.indexOf("META START")>-1){h=true}if(h){s.removeChild(n)}else{g++}if(n.nodeType==8&&n.textContent.indexOf("META END")>-1){break}}if(h){s.insertAdjacentHTML("afterbegin",o)}}},captureBlockHook:OK$3.fn.empty,isHookEmpty:function isHookEmpty(e){var t=this.getHookById(e);return!t||!t.element||!t.element.childNodes||!t.element.childNodes.length}};OK$3.clickLog=OK$3.clickLog||{getCounter:OK$3.fn.empty,incCounter:OK$3.fn.empty,decCounter:OK$3.fn.empty};OK$3.logging=function(){return{isSeleniumBot:false,currentLoggerFn:OK$3.fn.empty,setUp:function setUp(e){OK$3.logging.currentLoggerFn=e},tearDown:function tearDown(){OK$3.logging.currentLoggerFn=OK$3.fn.empty},alert:function alert1(e){if(OK$3.fn.isDebug()){alert(e)}},info:function info(){OK$3.Tracer.log("[Log]: "+Array.from(arguments).join(" "));if(OK$3.fn.isDebug()){try{console&&console.log.apply(console,arguments)}catch(e){}}},logger:{queue:[],replayQueue:function replayQueue(){var e,t=this.queue;var r=t.length;for(e=0;e<r;e++){t[e].call()}this.queue=[]},error:function error(e,t){this.queue.push(OK$3.fn.deferred(this,"error",arguments))},success:function success(e,t,r,n){this.queue.push(OK$3.fn.deferred(this,"success",arguments))},force:function force(e,t,r){this.queue.push(OK$3.fn.deferred(this,"force",arguments))},duration:function duration(e,t,r,n){this.queue.push(OK$3.fn.deferred(this,"duration",arguments))},clob:function clob(e,t,r,n){this.queue.push(OK$3.fn.deferred(this,"clob",arguments))},trace:function trace(e,t,r,n){this.queue.push(OK$3.fn.deferred(this,"trace",arguments))},raw:function raw(e,t){this.queue.push(OK$3.fn.deferred(this,"raw",arguments))},errorEx:function errorEx(e,t,r,n){var a="error";if(n){a=n}var o="Fatal JavaScript Error, please see log:\nexception ='"+e+"'\nstacktrace="+e.stack;this.clob(a,o,t,r)},saveAsClientError:function saveAsClientError(e){if(!e){return}function t(a){if(!a.isLogClientErrorsToGraylogEnabled){return}var o="undefined-error";var s={stateId:OK$3.getCurrentDesktopModelId()};var f=e.stack;if(f){var h=f.toLowerCase();if(h.includes("res/react/")){o="react-error"}else if(h.includes("res/js/")||h.includes("res/assets/")){o="modules-error"}else if(h.includes("web/gwt/")){o="gwt-error"}}this.errorEx(e,"client.error",s.stateId,o)}var r=t.bind(this);var n="OK/pms!debugConfiguration";if(require.defined(n)){r(require(n))}else{require([n],r)}},durationScalar:function durationScalar(e,t,r){if(r!=null&&r<6e4){var n=1e4;if(1e3<=r&&r<1e4){n=1e3}else if(r<1e3){n=100}r=Math.round(r/n)*n}else{r=6e4}this.success(e,t,""+r)}},repository:function(){var e={},t=[];function r(y){return y&&Object.prototype.toString.call(y)==="[object Array]"}function n(y){return y&&Object.prototype.toString.call(y)==="[object Object]"}function a(y){return y!==void 0}function o(y){var m=[];while(y)m[--y]=0;return m}function s(y){var m=JSON.stringify(y);if(!m||m.length<=2){return null}return encodeURIComponent(m)}function f(){var y=s(e);e={};return y}function h(){var y=s(t);t=[];return y}function g(y,m,v,w,M,_,A){var p={"o":y};m&&(p["p1"]=m);v&&(p["p2"]=v);w&&(p["d"]=w);M&&(p["i"]=M);_&&(p["c"]=_);A&&(p["r"]=A);t.push(p)}function O(y){E(e,y)}function E(y,m){var v=m.pop(),w=y;if(typeof v==="string"){w=!w?{}:!n(w)?{"n/a":w}:w;w[v]=E(w[v],m)}else if(n(w)){w["n/a"]=E(w["n/a"],[v])}else if(r(w)){w.push(v?v:0)}else if(v){w=o(w);w.push(v)}else{w=1+(w||0)}return w}return{addLog:function addLog(y,m,v,w,M,_,A){if(v||w||M){g(y,_,A,m,v,w,M)}else{var p=[];a(m)&&p.push(m);a(A)&&p.push(""+A);a(_)&&p.push(""+_);p.push(""+y);O(p)}},getRequestData:function getRequestData(){var y=[];var m=f();var v=h();if(m){y.push("a="+m)}if(v){y.push("p="+v)}if(y.length>0){y.push(OK$3.STAT_ID_PARAMETER+"="+OK$3.getStatId());return y.join("&")}return null}}}()}}();OK$3.logger=OK$3.logging.logger;OK$3.logger.repository=OK$3.logging.repository;define("OK/logger",OK$3.logger);OK$3.onload=function(e){var t=[],r=true,n=function n(o,s){if(s!=null&&s.length>0){var f=o;o=OK$3.fn.delegate(OK$3.loader.use,[f,s])}if(r){t.push(o)}else{try{o.call(e)}catch(h){OK$3.logging.alert("Onload callback error after immidiate execute: "+h.message)}}},a=function a(){r=false;for(var o=0;o<t.length;o++){var s=t[o];try{s.call(e)}catch(f){OK$3.logging.alert("Onload callback error after startup execute: "+f.message)}}t.length=0};return{addCallback:n,fire:a}}(window);OK$3.loader=function(){var e=null,t=null,r=null,n=null,a=null,o=null,s=null,f={},h=null,g=null,O=false,E={},y=function y(){if(O){return}O=true;e="string";t=",";r="complete";n="loaded";a=OK$3.cnst;o=a.staticUrl;s=a.pageCtx;h=document;g=h.getElementsByTagName("head")[0];OK$3.util.extend(f,{"abstractHooks":{src:o+m("abstractHooksSrc")},"OKCustomJs":{src:o+m("bottomJsSrc")},"OKTextarea":{src:o+m("textareaJsSrc")},"OKPhotoUploader":{src:o+m("photoUploaderJsSrc")},"OKRegJs":{src:o+m("regJsSrc")},"cdnNode":{src:m("cdnNodeSrc")},"OKPromo":{src:o+m("promoAppJsSrc")},"OKGifts":{src:o+m("giftsJsSrc")},"OKAppEdit":{src:o+m("appEditJsSrc")}})},m=function m(p){if(s!=null&&p in s){return s[p]}return""},v=function v(p,C){var c=h.createElement("script");p.waiting=true;c.onload=c.onreadystatechange=function(){var b=c.readyState;if(b&&b!=r&&b!=n)return;c.onload=c.onreadystatechange=null;p.ok=true;try{C.call(this)}catch(P){OK$3.logging.alert("Loader callback error after script loaded: "+P.message)}};c.async=1;c.src=p.src;g.appendChild(c)},w=function w(p){if(!p.ok&&!p.waiting){v(p,function(){for(var C in E){for(var c=0;c<E[C].length;c++){var b=E[C][c];if(b==null){continue}var P=b.srcArr;var L=1;for(var V=0;V<P.length;V++){if(!f[P[V]].ok){L=0}}if(L){try{E[C][c].clbk.call()}catch(F){OK$3.logging.alert("Loader queue callback error after all script loaded ["+P.join()+"]: "+F.message+"\n"+F.stack)}E[C][c]=null}}}})}},M=function M(p,C){y();var c=1,b=1,P=null;if((typeof p==="undefined"?"undefined":_type_of(p))==e){p=p.split(t)}var L=Array.prototype.indexOf.call(p,"jQuery"),V=[];if(L>=0){p.splice(L,1);V.push("jquery")}var F=function F(){for(var q=0;q<p.length;q++){var H=p[q];P=f[H];if(!P){c=0;b=0;break}if(!P.ok){b=0}}if(!c){return}if(b){try{C.apply()}catch(x){OK$3.logging.alert("Loader callback error after immediate execute ["+p.join()+"]: "+x.message+"\n"+x.stack)}return}var K=p.join(t);if(!E[K]){E[K]=[]}E[K].push({srcArr:p,clbk:C});for(q=0;q<p.length;q++){P=f[p[q]];w(P)}};if(V.length===0){F()}else if(V.length===1&&require.defined(V[0])){F(require(V[0]))}else{require(V,F)}},_=function _(p,C,c){if(require.defined(p)){var b=require(p);C(b.default||b)}else{require([p],function(P){C(P.default||P)},c)}},A=function A(p){OK$3.util.extend(f,p)};return{use:M,execRequire:_,register:A}}();OK$3.util=function(e,t){var r=t.documentElement.classList;return{isGecko:function isGecko(){return r.contains("gecko")},isWebkit:function isWebkit(){return r.contains("webkit")},isSafari:function isSafari(){return r.contains("mac-saf")},isIEMetro:function isIEMetro(){var n=false;if(e.navigator.msPointerEnabled){try{new ActiveXObject("htmlfile")}catch(a){n=e.screenY===0&&e.innerHeight+1!==e.outerHeight}}return n},counterId:0,extend:function extend(n,a){n=n||{};for(var o in a){if(a.hasOwnProperty(o)){n[o]=a[o]}}return n},clean:function clean(n){for(var a in n){if(n.hasOwnProperty(a)){n[a]=null}}},keys:function keys(n){var a=[];for(var o in n){if(n.hasOwnProperty(o)){a.push(o)}}return a},isHighDensity:function isHighDensity(){return e.matchMedia&&(e.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||e.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||e.devicePixelRatio&&e.devicePixelRatio>1.3},setHighDensityCookie:function setHighDensityCookie(n){var a=n+"=";if(OK$3.util.isHighDensity()){a+="h;max-age=31536000;path=/"}else{a+=";expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/"}t.cookie=a},plurals:function plurals(n){n=Math.abs(n)%100;if(n>10&&n<20){return 5}var a=n%10;if(a>1&&a<5){return 2}if(a==1){return 1}return 5},parseJSON:function parseJSON(n){var a="<!--",o=a.length,s="-->".length;if(n){if(n.indexOf(a)===0){n=n.substring(o,n.length-s)}return JSON.parse(n)}},parseJsonCorrected:function parseJsonCorrected(n){var a="<!--",o="-->",s=a.length,f=o.length;if(!n){return null}if(n.indexOf(a)===0){n=n.substring(s,n.length-f).replace(/\\u0026#45;\\u0026#45;/g,"--");if(!n.length){return null}}return JSON.parse(n)},nextId:function nextId(){return this.counterId++},getOffset:function getOffset(n){var a={left:0,top:0};do{a.left+=n.offsetLeft;a.top+=n.offsetTop}while(n=n.offsetParent);return a},is4ColumnActive:function is4ColumnActive(){return window.matchMedia("screen and (min-width: 1274px)").matches},processCssHeaders:function processCssHeaders(n){return new Promise(function(a){var o=n.getResponseHeader("required-css");if(o){var s=[];o.split(",").forEach(function(f){if(f){s.push("OK/css-loader!"+f)}});if(s.length){require(s,a,a);return}}a()})}}}(window,document);OK$3.favicon=function(){return{change:function change(e){var t=document.getElementById("favicon");if(!t)return;var r=t.cloneNode(true);r.setAttribute("href",e);t.parentNode.replaceChild(r,t)}}}();OK$3.css=function(){var e=function e(t,r){var n=typeof t=="string"?document.getElementById(t):t;if(!n){return}n.style.display=r?"block":"none"};return{display:function display(t,r){e(t,r)},addClass:function addClass(t,r){var n=document.getElementById(t);if(!n){return}n.classList.add(r)},removeClass:function removeClass(t,r){var n=document.getElementById(t);if(!n){return}n.classList.remove(r)}}}();OK$3.form=function(){var e="form",t=function t(a){var o=a.parentNode;while(o&&o.tagName&&o.tagName.toLowerCase()!=e){o=o.parentNode}if(o&&o.submit){o.submit()}return false},r=function r(a,o){var s=a.form.elements;var f=s.length;for(i=0;i<f;i++)if(s[i].name.substr(0,o.length)==o)s[i].checked=a.checked},n="input__active";return{submit:function submit(a){return t(a)},selectCBxs:function selectCBxs(a,o){r(a,o)},placeholder:function placeholder(a,o){require(["jquery"],function(){var s=o.parent();var f=function f(){var g=a.attr("contentEditable")==="true"?a.html():a.val();var O=a.data("val")||"";if(g!==O){if(g!=""){s.addClass(n)}else{s.removeClass(n)}a.data("val",g);clearInterval(h)}};var h=setInterval(f,10);a.bind("blur",function(){clearInterval(h)})})}}}();OK$3.tkn=function(){var e=function e(r){this.token=r},t=function t(){return this.token};return{set:e,get:t}}();OK$3.device=function(){return{isTouch:"ontouchend"in window}}();var okFlashVersion=[0,0,0];var minimumFlashVersion=9;window.displayFlashContainer=function(){var e=document;var t=e.getElementById("flashMainContainerDiv");if(t==null){return}var r=t.style;var n=e.getElementById("flashOldFlashContainerDiv").style;var a=e.getElementById("flashNoFlashContainerDiv").style;h(r);h(n);h(a);try{var o=t.className.indexOf("apiNoFlashWarning")!=-1&&typeof window.postMessage!="undefined";if(!o&&okFlashVersion[0]<minimumFlashVersion){if(okFlashVersion[0]==0){f(a)}}else{f(r);if(t.className.indexOf("apiNoHide")==-1){var s=document.getElementById("hook_PopLayer_popLayer");if(s!=null){r.visibility="hidden"}}}}catch(g){f(a)}function f(g){g.display="block"}function h(g){g.display="none"}};(function(e,t){try{var v=function v(){try{var w=s+".";for(var M=11;M>8;M--){try{var _=new ActiveXObject(w+M);var A=_.GetVariable("$version");return A}catch(p){}}return r}catch(p){return r}};var r=null,n="undefined",a="object",o="Shockwave Flash",s="ShockwaveFlash.ShockwaveFlash",f="application/x-shockwave-flash",h=[0,0,0],g=r,O=t.plugins,E=parseInt,y="$1";if((typeof O==="undefined"?"undefined":_type_of(O))!=n&&_type_of(O[o])==a){g=O[o].description;var m=t.mimeTypes;if(g&&!((typeof m==="undefined"?"undefined":_type_of(m))!=n&&m[f]&&!m[f].enabledPlugin)){g=g.replace(/^.*\s+(\S+\s+\S+$)/,y);h[0]=E(g.replace(/^(.*)\..*$/,y),10);h[1]=E(g.replace(/^.*\.(.*)\s.*$/,y),10);h[2]=/[a-zA-Z]/.test(g)?E(g.replace(/^.*[a-zA-Z]+(.*)$/,y),10):0}}else if(_type_of(e.ActiveXObject)!=n){try{var g=v();if(g){g=g.split(" ")[1].split(",");h=[E(g[0],10),E(g[1],10),E(g[2],10)]}}catch(w){}}e.okFlashVersion=h;e.flashVerForGWT=h;OK$3.onload.addCallback(function(){require(["OK/cookie"],function(w){w.setCookie("_flashVersion",h[0],30,"/");if(h[0]>0){w.setCookie("_flash7dVersion",h[0],7,"/")}})})}catch(v){}})(window,navigator);OK$3.il={handlers:{},ah:function ah(e){if(e&&e.handle&&e.id){var t=e.id;if(this.handlers[t]==null){this.handlers[t]=[]}this.handlers[t][this.handlers[t].length]=e}},f:function f(e,t,r){if(t&&this.handlers[t]){var n=this.handlers[t].length,a=this.handlers[t];for(var o=0;o<n;o++){var s=a[o];s.handle(e,r)}}},rh:function rh(e){if(e&&e.id){var t=e.id;if(this.handlers[t]==null||e.handlerId==null){return}var r=this.handlers[t].length,n=this.handlers[t],a=e.handlerId,o=-1;for(var s=0;s<r;s++){var e=n[s];if(e.handlerId==a){o=s;break}}if(o>-1){this.handlers[t].splice(o,1)}}}};OK$3.pf={};OK$3.scrollBar=function(){OK$3.scrollBar.width=document.getElementById("sc").offsetWidth-document.getElementById("sch").offsetWidth};OK$3.setContentWidth=function(){var e=OK$3.scrollBar.width;var t=window.innerWidth-e;t=Math.max(1e3,t);var r=document.getElementById("topPanel");var n=document.getElementById("hook_Block_BodySwitcher");var a=document.getElementById("mainContainer");if(n){n.style.width=t+"px"}if(r){r.style.width=t+"px"}var o=Boolean(document.getElementsByClassName("layout-optimization")[0]);if(a&&o){a.style.width=t+"px"}};OK$3.stop=function(e){e=e||window.event;if(e.type==="click"&&OK$3.clickLog.getCounter()>0){e["log-clicks"]=true;return false}if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}return false};OK$3.hardStopEvent=function(e){e=e||window.event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}return false};OK$3.isStopped=function(e){e=e||window.event;return e&&e["log-clicks"]};OK$3.eventTarget=function(t){var t=t||window.event;var r;if(t.target){r=t.target}else if(t.srcElement){r=t.srcElement}else{r=window.document}if(r.nodeType===3){r=r.parentNode}return r};OK$3.submit=function(e){var t=e;if(e.tagName.toLowerCase()!=="form"){t=e.parentNode}if(document.createEvent){var r=document.createEvent("Event");r.initEvent("submit",true,true);t.dispatchEvent(r)}else if(document.createEventObject){var r=document.createEventObject();t.fireEvent("onsubmit",r)}};OK$3.userCache={_users:[],getFromUserCache:function getFromUserCache(e){return this._users[e]},updateUserCache:function updateUserCache(e){for(var t in e){this._users[t]=e[t]}},getLinkOnUserAvatar:function getLinkOnUserAvatar(e){return""}};OK$3.showTopicInLayerOnClick=function(e,t,r,n,a,o,s,f){if(e){for(var h=OK$3.eventTarget(t);h&&h!=e;h=h.parentNode){if(h.tagName=="A"){return}}}var g=document.getElementById("mtLayer");if(g){require(["OK/MediaLayer"],function(O){O.showTopicInLayer(r,n,a,false,"",null,null,false,o,s,false,f)});return OK$3.stop(t)}};OK$3.ntf={close:OK$3.fn.empty,lock:OK$3.fn.empty};OK$3.configurations=function(){var e={};return{get:function get(t){return new Promise(function(r){var n=e[t];if(n){r(n)}else{require(["OK/utils/vanilla"],function(a){a.ajax({type:"GET",url:"/web-api/pms?name="+encodeURIComponent(t),headers:{"Content-Type":"application/json"},dataType:"json"}).then(function(o){n=JSON.parse(o.response.data);e[t]=n;r(n)},function(){require(["OK/logger"],function(o){o.error("configurations.loading.error",t)})})})}})}}}();OK$3.afterWindowOnloadAttach=function(e){var t=function t1(){if(performance.timing.loadEventEnd>0){e.call()}else{setTimeout(t,100)}};if(performance.timing.loadEventStart>0){setTimeout(t,10)}else{window.addEventListener("load",function(){setTimeout(t)})}};OK$3.sendBeacon=function(e,t){var r=true;if(navigator.sendBeacon){var n={type:"application/x-www-form-urlencoded"};var a=new Blob([t],n);if(navigator.sendBeacon(e,a)){r=false}}if(r){var a=new Blob([t]);var o=new XMLHttpRequest;o.open("POST",e,true);o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var s=OK$3.getStatId();if(s){o.setRequestHeader(OK$3.STAT_ID_HEADER,s)}o.send(a)}};OK$3.isStateRedesign=OK$3.isStateRedesign||function(){return false};OK$3.getRedesignVersion=OK$3.getRedesignVersion||function(){return null};OK$3.ClientFlag={MONEY_SAVE_V2:"ms",DEFERRED_CSS:"dcss",MOVIE_POSTING_V2:"mpv2",GWT_REMOVE_HISTORY_MANAGER:"gwtrmhist"};window.parseFlags=function(e){var t={};(e||"").split(/;/g).forEach(function(r){var n=r.split(":");if(n.length===2){t[n[0]]=n[1]}});return t};OK$3.isClientFlagEnabled=OK$3.isClientFlagEnabled||function(e){return parseFlags(OK$3.getClientFlags())[e]==="1"};OK$3.getClientFlags=OK$3.getClientFlags||function(){return document.documentElement.getAttribute("data-client-state")};OK$3.setClientFlags=OK$3.setClientFlags||function(e){document.documentElement.setAttribute("data-client-state",e)};OK$3.setClientFlag=OK$3.setClientFlag||function(e,t){var r=parseFlags(OK$3.getClientFlags());r[e]=t?"1":"0";var n=Object.getOwnPropertyNames(r).map(function(a){return a+":"+r[a]}).join(";");OK$3.setClientFlags(n)};OK$3.CLIENT_FLAGS_HEADER="X-Client-Flags";OK$3.topPanelHeight=function(){var e=document.documentElement.classList;if(e.contains("small-toolbar")||e.contains("smooth-hiding")){return 48}if(e.contains("new-external-mrg-toolbar")){return 85}return 76};OK$3.STAT_ID_HEADER=OK$3.STAT_ID_HEADER||"X-Stat-Id";OK$3.STAT_ID_PARAMETER=OK$3.STAT_ID_PARAMETER||"statId";OK$3.getStatId=OK$3.getStatId||function(){return""};if(OK$3.isClientFlagEnabled(OK$3.ClientFlag.GWT_REMOVE_HISTORY_MANAGER)){OK$3.historyManager={_gwtRemoveEnabled:true,_producerEventId:"histmngr",_token:"/",isHistorySupported:function isHistorySupported(){return window.history&&window.history.pushState&&window.history.replaceState},init:function init(){var e=OK$3.historyManager.getState()+window.location.hash;OK$3.historyManager.replaceState(e);window.onpopstate=function(t){try{var r=t.state;if(OK$3.historyManager._isValidTokenForUpdate(r)){OK$3.historyManager._token=r;OK$3.historyManager._fireAllSubscribers(r)}}catch(n){OK$3.logger.error("historyManager","method: init, messge: "+n.message)}}},getState:function getState(){var e=location.pathname+location.search;if(!e){e="/"}return e},_normalizeToken:function _normalizeToken(e){if(e&&e.startsWith&&!e.startsWith("/")){return"/dk?"+e}if(!e){return"/"}return e},replaceState:function replaceState(e){var t=OK$3.historyManager._normalizeToken(e);OK$3.historyManager._token=t;window.history.replaceState(t,document.title,t)},pushState:function pushState(e,t){var r=OK$3.historyManager._normalizeToken(e);if(t){OK$3.historyManager.putItemToCache(r,t)}if(OK$3.historyManager._isValidTokenForUpdate(r)){OK$3.historyManager._token=r;window.history.pushState(r,document.title,r)}},_isValidTokenForUpdate:function _isValidTokenForUpdate(e){if(!e){return false}if(OK$3.historyManager._token===e){return false}return true},_cache:{},putItemToCache:function putItemToCache(e,t){OK$3.historyManager._cache[e]=t},getItemFromCache:function getItemFromCache(e){return OK$3.historyManager._cache[e]},back:function back(){window.history.back()},subscribeOnHistoryChange:function subscribeOnHistoryChange(e,t){OK$3.il.ah({id:OK$3.historyManager._producerEventId,handle:t,handlerId:e})},unsubscribeOnHistoryChange:function unsubscribeOnHistoryChange(e){OK$3.il.rh({id:OK$3.historyManager._producerEventId,handlerId:e})},_fireAllSubscribers:function _fireAllSubscribers(e){OK$3.il.f(e,OK$3.historyManager._producerEventId,null)}};OK$3.historyManager.init()}else{OK$3.historyManager=OK$3.historyManager||{isHistorySupported:function isHistorySupported(){return window.history&&window.history.pushState&&window.history.replaceState},getState:function getState(){var e=location.pathname+location.search;if(!e){if(typeof __gwt_currentHistoryItem!=="undefined"){e=__gwt_currentHistoryItem||"/"}else{e="/"}}return e},replaceState:function replaceState(e){window.__gwt_currentHistoryItem=e;window.history.replaceState(e,document.title,e)},pushState:function pushState(e){window.__gwt_currentHistoryItem=e;window.history.pushState(e,document.title,e)},_cache:{},putItemToCache:function putItemToCache(e,t){OK$3.historyManager._cache[e]=t},back:function back(){return window.history.back()}}}var OK$2=window.OK||(window.OK={});(function(){var e=".modal_overlay, .modal-new_close_ovr, .layer_ovr, .ic_close, #hook_Block_PromoMainLayer .layerPanelClose, .js-close-layer";var t=[],r;var n=[];var a=1;var o={};var s=new Set;var f=function f(l,u){if(!o.hasOwnProperty(l)){o[l]=[u]}else{o[l].push(u)}};var h=function h(l,u){if(!u){o[l]=[]}else{if(!o[l]){return}var d=o[l].indexOf(u);if(d>-1){o[l].splice(d,1)}}};var g=function g(l){s.add(l)};var O=function O(l){s.delete(l)};var E=function E(l,u,d){var k=X();if(k){OK$2.Tracer.setErrorKey("layerId",k)}else{OK$2.Tracer.removeErrorKey("layerId")}if(OK$2.fn.isDebug()){console.log("layer._call('"+l+"', '"+JSON.stringify(u)+"', '"+JSON.stringify(d)+"') topLayer = "+JSON.stringify(k))}if(o.hasOwnProperty(l)){var S=[];var N=o[l];for(T=0;T<N.length;T++){S[T]=N[T]}for(var T=0,R=S.length;T<R;T++){try{S[T].call(null,u,d,l)}catch(B){}}}Array.from(s).forEach(function(B){B.call(null,l,u,d)})};var y=function y(){n=[]};var m=function m(l){a=l};var v=function v(l){return l.replace(/st\.(fwd|layer\.direction)\=.*?(&|$)/g,"")};var w=function w(l){if(a<=1){return}l=v(l);n.push({link:l});var u=n.length-a;if(u>0){n.splice(0,u)}};var M=function M(l){if(a<=1||n.length===0){return}l=v(l);n[n.length-1]={link:l}};var _=function _(l,u){if(n.length===0){return}var d=n[n.length-1].link.indexOf("?")>=0?"&":"?";d+="st.fwd=";l=encodeURIComponent(l);if(u){d+="on&st.lastelem="+l}else{d+="off&st.firstelem="+l}n[n.length-1].attrs=d};var A=function A(){if(n.length===0){return""}var l=n[n.length-1];return l?l.link:""};var p=function p(){if(a<=1||n.length==0){return null}n.splice(n.length-1,1);if(n.length==0){return null}var l=n[n.length-1];var u=l.link;if(l.attrs){u+=l.attrs}n.splice(n.length-1,1);if(typeof navigateOnUrlFromJS!=="undefined"){navigateOnUrlFromJS(u)}else{new Promise(function(d,k){require(["OK/PopLayerPhoto"],d,k)}).then(function(d){return d&&d.default||d}).then(function(d){d.handleOnNavigate(u)})}return u};var C=function C(){new Promise(function(l,u){require(["OK/LayersLoader"],l,u)}).then(function(l){return l&&l.default||l}).then(function(l){l.startLoad()})};var c=function c(l){new Promise(function(u,d){require(["OK/LayersLoader"],u,d)}).then(function(u){return u&&u.default||u}).then(function(u){u.endLoad(l)})};var b=function b(l){if(l.shouldIgnoreA11y){P(l.layerName,l.deactivateFn,l.hookInstance,l.preventCloseOnEsc,l.keyDownHandler,l.redirectAfterClose,l.keyUpHandler,l.withStopLayerLoader,l.withoutStopPropagation)}else{L(l.layerName,l.deactivateFn,l.hookInstance,l.preventCloseOnEsc,l.keyDownHandler,l.redirectAfterClose,l.keyUpHandler,l.withStopLayerLoader,l.withoutStopPropagation)}};var P=function P(l,u,d,k,S,N,T,R,B){OK$2.loader.execRequire("OK/ToolbarGrowl",function(D){D.hideAll()});d=d||null;k=k||false;S=S||function(){};T=T||function(){};N=N||null;var I={id:l,deactivateFn:u,hookInstance:d,preventCloseOnEsc:k,keyDownHandler:S,keyUpHandler:T,redirectAfterClose:N,withoutStopPropagation:B};var j=false;for(var J=0;J<t.length;J++){if(t[J].id===I.id){j=true;t.splice(J,1);OK$2.logging.logger.success("layerManager","reRegister",I.id)}}t.push(I);if(t.length===1&&!j){K()}E(I.id,true);q();OK$2.logging.logger.success("layerManager","register",I.id);if(!R){c()}if(document.documentElement.hasAttribute("data-use-hook-activator")){new Promise(function(D,ee){require(["OK/HookViewportActivator"],D,ee)}).then(function(D){return D&&D.default||D}).then(function(D){D.checkAll()})}};var L=function L(l,u,d,k,S,N,T,R,B){P(l,u,d,k,S,N,T,R,B);new Promise(function(I,j){require(["OK/AccessibleModal"],I,j)}).then(function(I){return I&&I.default||I}).then(function(I){I.AccessibleModal.registerModal(l)})};function V(l,u){for(var d=0;d<t.length;d++){if(t[d].id===l){var k=t[d];t.splice(d,1);if(k){U(k);if(!t.length){x()}q();if(k.redirectAfterClose!==null){if(OK$2.navigation.redirect){OK$2.navigation.redirect(k.redirectAfterClose)}else{window.location.assign(k.redirectAfterClose)}}E(k.id,false,u);new Promise(function(S,N){require(["OK/AccessibleModal"],S,N)}).then(function(S){return S&&S.default||S}).then(function(S){S.AccessibleModal.removeModal(k.id)});OK$2.logging.logger.success("layerManager","unregister",k.id)}else{OK$2.logging.logger.success("layerManager","popFailed")}}}}var F=function F(l,u){c(true);if(t.length){if(!t[t.length-1].preventCloseOnEsc){var d=t.pop();if(d){U(d);if(!t.length){x()}q();if(d.redirectAfterClose!==null){if(OK$2.navigation.redirect){OK$2.navigation.redirect(d.redirectAfterClose)}else{window.location.assign(d.redirectAfterClose)}}E(d.id,false,u);new Promise(function(k,S){require(["OK/AccessibleModal"],k,S)}).then(function(k){return k&&k.default||k}).then(function(k){k.AccessibleModal.removeModal(d.id)});OK$2.logging.logger.success("layerManager","unregister",d.id);OK$2.logging.logger.success("layerManager",l,d.id)}else{OK$2.logging.logger.success("layerManager","popFailed")}}else{OK$2.logging.logger.success("layerManager","escDisabledForLayer",t[t.length-1].id)}}else{OK$2.logging.logger.success("layerManager","stackEmpty")}};var q=function q(){var l=["posting_form","video_player","OldFeedPopupLayer"];var u=!t.length||t.length===1&&(l.indexOf(t[0].id)!==-1||t[0].id.indexOf("dd-menu")===0);var d=t.length==1&&t[0].id=="modal_hook";if(d){var k=document.getElementById("hook_Modal_popLayerModal");if(k&&k.classList.contains("layer__disabled")){u=true}}new Promise(function(S,N){require(["OK/OhManager"],S,N)}).then(function(S){return S&&S.default||S}).then(function(S){S.switchScrolling(u)})};function H(){var l=OK$2.hookModel.getHookById("ForthColumnTopBannerInner");if(l){l.handle()}}var K=function K(){OK$2.loader.use(["jQuery"],function(){var l=$("body");l.on("click.popLayers",e,function(u){F("shadowClick");u.stopImmediatePropagation()}).on("keydown.popLayers",function(u){var d=t[t.length-1];if(d){d.keyDownHandler.call(this,u)}if(u.keyCode===27&&!r){r=true;F("esc");u.preventDefault();if(!d.withoutStopPropagation){u.stopPropagation()}}}).on("keyup.popLayers",function(u){var d=t[t.length-1];if(d){d.keyUpHandler.call(this,u)}r=false;if(u.keyCode===27){u.preventDefault()}if(!d.withoutStopPropagation){u.stopPropagation()}})});new Promise(function(l,u){require(["OK/LayersEventBuses"],l,u)}).then(function(l){return l&&l.default||l}).then(function(l){l.ANY_OPENED.emit({},this)});H()};var x=function x(){OK$2.loader.use(["jQuery"],function(){r=false;$("body").off(".popLayers")});new Promise(function(l,u){require(["OK/ToolbarGrowl"],l,u)}).then(function(l){return l&&l.default||l}).then(function(l){l.showAny()});new Promise(function(l,u){require(["OK/LayersEventBuses"],l,u)}).then(function(l){return l&&l.default||l}).then(function(l){l.ANY_CLOSED.emit(null,this)});H()};var U=function U(l){l.deactivateFn.call(l.hookInstance)};var W=function W(l){var u;for(var d=0;d<t.length;d++){if(t[d].id===l){u=t.splice(d,1);if(u&&u[0]){E(u[0].id,false)}OK$2.logging.logger.success("layerManager","unregister",l)}}if(!u){OK$2.logging.logger.success("layerManager","unregisterLayerNotFound",l)}if(!t.length&&u){x()}q();c()};var Q=function Q(l){W(l);new Promise(function(u,d){require(["OK/AccessibleModal"],u,d)}).then(function(u){return u&&u.default||u}).then(function(u){u.AccessibleModal.removeModal(l)})};var Y=function Y(){var l=t.length;for(var u=l;u>0;u--){F("unregisterAll")}};var G=function G(){return t.length!==0};var Z=function Z(l){if(t){for(var u=0;u<t.length;u++){var d=t[u];if(d.id===l){return true}}}return false};var z=function z(){if(G()){return t[t.length-1]}return null};var X=function X(){var l=z();return l?l.id:null};OK$2.Layers={register:L,registerWithoutAccessibility:P,open:b,remove:Q,removeWithoutAccessibility:W,isAnyLayerOpened:G,isLayerOpened:Z,unregisterAll:Y,unregisterLast:F,unregisterById:V,stack:t,push:w,pop:p,lastUrl:A,changeAttrs:_,clear:y,replace:M,setMaxSize:m,onLayerShown:OK$2.fn.empty,onLayerHidden:OK$2.fn.empty,subscribe:f,unsubscribe:h,getTopLayer:z,getTopLayerId:X,subscribeGlobal:g,unsubscribeGlobal:O,startLoad:C,endLoad:c}})();if(OK$2.historyManager.isHistorySupported()&&!window.onpopstate){window.onpopstate=function(e){if(e.state){OK$2.Layers.unregisterAll()}}}(function(e){var t="X-StateId";var r=document.documentElement.getAttribute("data-initial-state-id");function n(s){r=s}function a(s){var f=s.getResponseHeader(t);if(f){n(f)}}function o(){return r}e.OK=e.OK||{};e.OK.state={setCurrentStateId:n,processXhrResponse:a,getCurrentStateId:o};if(!e.OK.getCurrentDesktopModelId){e.OK.getCurrentDesktopModelId=o}})(window);var OK$1=window.OK||(window.OK={});OK$1.VideoPlayer=OK$1.VideoPlayer||{};OK$1.VideoPlayer.likeVideoFromFlash=function(e){if(!window.navigateOnUrlFromJS){document.location.href="/";return}new Promise(function(t,r){require(["jquery"],function(n){t(_interopNamespace(n))},r)}).then(function(t){return t&&t.default||t}).then(function(t){var r=t(".controls-list .controls-list_lk[data-l-id="+e+"]:first"),n=t(".widget-list .controls-list_lk[data-id1="+e+"]:first");if(!n.length){n=t(".widget .controls-list_lk[data-id1="+e+"]:first")}n.length&&n.data("clickFromVideo",true);r.length&&r.click();n.length&&n.click()})};OK$1.VideoPlayer.toggleSubscriptionFromFlash=function(e,t,r,n,a,o){new Promise(function(s,f){require(["OK/utils/utils"],s,f)}).then(function(s){return s&&s.default||s}).then(function(s){var f={"cmd":"VideoSubscriptionBlock","st.vvs.action":n,"st._aid":o};if(e.notifyMovieSubscription){f["st.vvs.vid"]=r}else{f["st.vvs.aid"]=t}s.ajax({url:"/dk",data:f}).done(s.updateBlockModelCallback).done(a)})};OK$1.VideoPlayer.answerOnPoll=function(e,t,r,n){new Promise(function(a,o){require(["OK/utils/utils"],a,o)}).then(function(a){return a&&a.default||a}).then(function(a){a.ajax({type:"POST",url:"/web-api/annotations/poll/answer",data:{movieId:e,questionId:t,answerId:r}}).done(n)})};OK$1.VideoPlayer.reshare=function(e,t){new Promise(function(r,n){require(["OK/utils/utils"],r,n)}).then(function(r){return r&&r.default||r}).then(function(r){r.ajax({type:"GET",url:"/web-api/video/reshare/"+e}).done(t)})};OK$1.VideoPlayer.joinGroup=function(e,t){new Promise(function(r,n){require(["OK/utils/utils"],r,n)}).then(function(r){return r&&r.default||r}).then(function(r){r.ajax({url:"/dk",data:{"cmd":"videoCommand","a":"joinGroup","gid":e}}).done(t).fail(t)})};OK$1.VideoPlayer.subscribeProfile=function(e,t){new Promise(function(r,n){require(["OK/utils/utils"],r,n)}).then(function(r){return r&&r.default||r}).then(function(r){r.ajax({url:"/dk",data:{"cmd":"videoCommand","a":"subscribeProfile","pid":e}}).done(t).fail(t)})};OK$1.VideoPlayer.OKVideoOpenUserUpload=function(){window.navigateOnUrlFromJS?window.navigateOnUrlFromJS("/video/myVideo"):document.location.href="/video/myVideo"};OK$1.VideoPlayer.addWatched=function(e){e=parseInt(e,10);OK$1.VideoPlayer.storage.addWatched(e)};OK$1.VideoPlayer.openProduct=function(e,t){new Promise(function(r,n){require(["OK/utils/vanilla"],r,n)}).then(function(r){return r&&r.default||r}).then(function(r){var n;if(t.groupId!=null){n={"cmd":"PopLayerMediaTopicOpen","st.mt.id":t.id,"st.mt.ot":"GROUP_ADVERT","st.cmd":"altGroupAdvertsPage","st.groupId":t.groupId}}else{n={"cmd":"PopLayer","st.cmd":"mall","st.layer.cmd":"PopLayerMallProduct","st.layer.productId":t.id,"st.layer.section":t.section,"st.layer.ePT":t.campaignId||"cn:shoppingtv"}}r.ajax({url:"/dk",data:n}).then(function(a){r.updateBlockModelCallback(a)})})};OK$1.VideoPlayer.openLogin=function(){new Promise(function(e,t){require(["OK/AuthLoginPopup"],e,t)}).then(function(e){return e&&e.default||e}).then(function(e){e.open({href:decodeURIComponent(OK$1.historyManager.getState())})})};OK$1.VideoPlayer.storage=function(){var e="_vp_",t=1e3,r=500;var n=function(){var c=new Date,b,P;try{(b=window.localStorage).setItem(c,c);P=b.getItem(c)==c;b.removeItem(c);return P&&b}catch(L){}}();function a(c){try{return n&&JSON.parse(n.getItem(e+c))}catch(b){return null}}function o(c,b){try{n&&n.setItem(e+c,JSON.stringify(b))}catch(P){}}function s(c,b,P){c.push(P);while(c.length>b){c.shift()}return c}var f=a("volume");var h=a("lastVideoQualityName");var g=a("cid");var O=a("lastSpeed");var E=a("lastVideoShowTime");var y=a("lastDayVideoShown");var m=a("lastDayAdvShown");var v=a("movielastPlayingTime")||[];var w=a("watchedMoviesCache")||[];var M=a("autoplayEnabled");var _=a("cinemaModeEnabled");var A=a("miniPlayerWidth");var p=a("miniPlayerTop");var C=a("miniPlayerLeft");return{getVolume:function getVolume(){return f},setVolume:function setVolume(c){o("volume",f=c)},getLastVideoQualityName:function getLastVideoQualityName(){return h},setLastVideoQualityName:function setLastVideoQualityName(c){o("lastVideoQualityName",h=c)},getCid:function getCid(){return g},setCid:function setCid(c){o("cid",g=c)},getLastSpeed:function getLastSpeed(){return O},setLastSpeed:function setLastSpeed(c){o("lastSpeed",O=c)},getLastVideoShowTime:function getLastVideoShowTime(){return E},setLastVideoShowTime:function setLastVideoShowTime(c){o("lastVideoShowTime",E=c)},getLastDayVideoShown:function getLastDayVideoShown(){return y},setLastDayVideoShown:function setLastDayVideoShown(c){o("lastDayVideoShown",y=c)},getLastDayAdvShown:function getLastDayAdvShown(){return m},setLastDayAdvShown:function setLastDayAdvShown(c){o("lastDayAdvShown",m=c)},getMovieLastPlayingTime:function getMovieLastPlayingTime(c){v=Array.isArray(v)?v:[];c=parseInt(c,10);for(var b=0,P=v.length;b<P;b++){if(v[b].id===c){return v[b].time}}return 0},setMovieLastPlayingTime:function setMovieLastPlayingTime(c,b){v=Array.isArray(v)?v:[];c=parseInt(c,10);var P={id:c,time:b};for(var L=0,V=v.length;L<V;L++){if(v[L].id===c){v.splice(L,1);break}}o("movielastPlayingTime",s(v,r,P))},isWatched:function isWatched(c){return w.indexOf(c)!=-1},addWatched:function addWatched(c){o("watchedMoviesCache",s(w,t,c))},getAlreadySeenSimilar:function getAlreadySeenSimilar(c){return w.slice(-c)},isAutoplayEnabled:function isAutoplayEnabled(){return M!==false},setAutoplayEnabled:function setAutoplayEnabled(c){o("autoplayEnabled",M=c)},isCinemaModeEnabled:function isCinemaModeEnabled(){return!!_},setCinemaModeEnabled:function setCinemaModeEnabled(c){o("cinemaModeEnabled",_=c)},getMiniPlayerWidth:function getMiniPlayerWidth(){return A},setMiniPlayerWidth:function setMiniPlayerWidth(c){o("miniPlayerWidth",A=c)},getMiniPlayerTop:function getMiniPlayerTop(){return p},setMiniPlayerTop:function setMiniPlayerTop(c){o("miniPlayerTop",p=c)},getMiniPlayerLeft:function getMiniPlayerLeft(){return C},setMiniPlayerLeft:function setMiniPlayerLeft(c){o("miniPlayerLeft",C=c)}}}();window.likeVideoFromFlash=function(e){if(typeof navigateOnUrlFromJS!="function"){document.location.href="/";return}var t=$("#"+e),r,n,a,o;for(;;){r=t.find(".klass_w");if(r.length>0){break}t=t.parent();if(t.length==0){return}}a=r.find("a.controls-list_lk")[0];if(a!=null){n=a.href}else{a=r.find("span.controls-list_lk")[0];if(a!=null){n=a.getAttribute("data-href");o=a.getAttribute("data-l-p");if(o){n+="&st.v.cl="+o}}}if(n){navigateOnUrlFromJS(n+"&st.v.ff=on")}};window.OKVideoOpenUserUpload=function(){OK$1.VideoPlayer.OKVideoOpenUserUpload()};window.runLinkedVideoCallbackFromJS=function(e){likeCallbackFromJs(e.callbackId+"Object",e.liked,e.likeCount);likeCallbackFromJs(e.callbackId+"E",e.liked,e.likeCount);likeCallbackFromJs("VideoPopup_player_"+e.callbackId+"Object",e.liked,e.likeCount)};window.runLinkedVideoCallback=function(e){var t=document.getElementById("mc"+e.blockId);t.parentNode.removeChild(t);disableKlassByPlayerId(e.callbackId+"Object")||disableKlassByPlayerId(e.callbackId+"E")||disableKlassByPlayerId("VideoPopup_player_"+e.callbackId+"Object")};window.runLinkedVideoCallbackU=function(e){var t=document.getElementById("mc"+e.blockId);t.parentNode.removeChild(t);runLinkedVideoCallbackFromJS(e);new Promise(function(r,n){require(["jquery"],function(a){r(_interopNamespace(a))},n)}).then(function(r){return r&&r.default||r}).then(function(r){var n=r(".js-like-marker[data-l-id="+e.resourceId+"]");n.each(function(){var a=OK$1.hookModel.getNearestBlockHookId(this),o=r("#hook_Block_"+a);if(o.length){likeCallbackFromJs(o.data("playerId")+"E",e.liked,e.likeCount)}})})};window.disableKlassByPlayerId=function(e){try{document.getElementById(e).disableKlassFromJs()}catch(t){}};window.likeCallbackFromJs=function(e,t,r){try{document.getElementById(e).likeCallbackFromJs(t,r)}catch(n){}};OK$1.VVImageError=function(e){e.parentNode.removeChild(e)};OK$1.VideoPlayer.playMovie=function(e,t,r,n){new Promise(function(a,o){require(["OK/VideoAutoplayLayer"],a,o)}).then(function(a){return a&&a.default||a}).then(function(a){a.playMovie(e,t,r,n)})};OK$1.VideoPlayer.openMovie=function(e,t,r,n,a,o,s,f){OK$1.Layers.startLoad();new Promise(function(h,g){require(["OK/VideoAutoplayLayer"],h,g)}).then(function(h){return h&&h.default||h}).then(function(h){var g={"st.vpl.id":e};if(t){g["st._aid"]=t}if(o){g["st.cmd"]=o}if(r){g["st.vpl.vs"]="album";g["st.vpl.albumId"]=r}if(n){g["st.vpl.bu"]=n}if(a){g["st.vpl.vs"]="collage";g["st.vpl.vp"]=a}if(s){g["st.vpl.mini"]=true}if(f){g["st.vpl.fmbid"]=f}if(!r&&!a){g["st.vpl.dla"]=true}h.navigateToMovie("/dk?cmd=PopLayerVideo",g,e,true)})};OK$1.VideoPlayer.openShare=function(e,t){new Promise(function(r,n){require(["OK/VideoAutoplayLayer"],r,n)}).then(function(r){return r&&r.default||r}).then(function(r){var n={"st.vpl.sid":e};if(t){n["st._aid"]=t}r.navigateToMovie("/dk?cmd=PopLayerVideo",n,e,true)})};OK$1.VideoPlayer.playNextMovie=function(e,t,r,n,a,o){new Promise(function(s,f){require(["OK/VideoAutoplayLayer"],s,f)}).then(function(s){return s&&s.default||s}).then(function(s){s.playNextMovie(e,t,r,n,a,o)})};OK$1.VideoPlayer.getNextMetadata=function(e,t,r,n,a){new Promise(function(o,s){require(["OK/VideoAutoplayLayer"],o,s)}).then(function(o){return o&&o.default||o}).then(function(o){o.getNextMetadata(e,t,r,n,false,a)})};OK$1.VideoPlayer.getNextMetadataSmall=function(e,t,r,n,a){new Promise(function(o,s){require(["OK/VideoAutoplayLayer"],o,s)}).then(function(o){return o&&o.default||o}).then(function(o){o.getNextMetadata(e,t,r,n,true,a)})};OK$1.VideoPlayer.toggleCinemaMode=function(e,t){if(!t&&e){t=e.slice(e.lastIndexOf("/")+1).replace(/(\?|&).*/,"")}if(!t){new Promise(function(n,a){require(["OK/VideoAutoplayLayer"],n,a)}).then(function(n){return n&&n.default||n}).then(function(n){OK$1.VideoPlayer.storage.setCinemaModeEnabled(n.toggleCinemaMode(true))})}else{var r="Open_Layer_From_Player";if(/^[0-9]+$/.test(t)){new Promise(function(n,a){require(["OK/utils/vanilla"],n,a)}).then(function(n){return n&&n.default||n}).then(function(n){var a=n.extractParams(n.unescapeXml(e));var o=a["st.vpl.fmbid"];OK$1.VideoPlayer.openMovie(t,r,void 0,void 0,void 0,void 0,void 0,o)})}else{OK$1.VideoPlayer.openShare(t,r)}}OK$1.VideoPlayer.closePopLayer();OK$1.logger.success("video.cinema",e?"middlesize":"toggle")};OK$1.VideoPlayer.pauseAll=function(){if(require.defined("OK/OKVideo")){require("OK/OKVideo").pause()}};OK$1.VideoPlayer.restart=function(e,t){if(require.defined("OK/OKVideo")){require("OK/OKVideo").retry(0,e,t)}};OK$1.VideoPlayer.stop=function(){if(require.defined("OK/OKVideo")){require("OK/OKVideo").stop()}};OK$1.VideoPlayer.changeAnnotations=function(e){if(require.defined("OK/OKVideo")){require("OK/OKVideo").changeAnnotations(e)}};OK$1.VideoPlayer.onPlay=function(e,t,r){new Promise(function(n,a){require(["OK/music2/app"],n,a)}).then(function(n){return n&&n.default||n}).then(function(n){if(!e&&!OK$1.VideoPlayer._isMusicPlaying){if(n.playing()){OK$1.VideoPlayer._isMusicPlaying=true;n.pause()}}})};OK$1.VideoPlayer.onPause=function(e,t,r){new Promise(function(n,a){require(["OK/music2/app"],n,a)}).then(function(n){return n&&n.default||n}).then(function(n){if(!e&&OK$1.VideoPlayer._isMusicPlaying){OK$1.VideoPlayer._isMusicPlaying=false;n.play()}})};OK$1.VideoPlayer.EVENT_NAME="__videoPlayerEvent";OK$1.VideoPlayer.onEvent=function(e,t){new Promise(function(r,n){require(["OK/utils/vanilla"],r,n)}).then(function(r){return r&&r.default||r}).then(function(r){r.trigger(document,OK$1.VideoPlayer.EVENT_NAME,{name:e,data:t})})};OK$1.VideoPlayer.helpFeedback=function(e){new Promise(function(t,r){require(["OK/utils/utils"],t,r)}).then(function(t){return t&&t.default||t}).then(function(t){t.ajax({url:"/dk",data:{"cmd":"PopLayer","st.layer.cmd":"PopLayerHelpFeedback","st.layer.categorynew":"SITE_SECTION","st.layer.subcategory":"VIDEO_AND_MUSIC","st.layer.categoryValue":"VIDEO","st.layer.origin":"VIDEO_LAYER","st.layer.badVideoLink":e||window.location.href}}).done(t.updateBlockModelCallback)})};OK$1.VideoPlayer.getRelated=function(e,t,r,n){new Promise(function(a,o){require(["OK/utils/utils"],a,o)}).then(function(a){return a&&a.default||a}).then(function(a){a.ajax({url:"/dk",data:{"cmd":"videoRelatedCommand","id":e,"count":36}}).done(r).fail(n)})};OK$1.VideoPlayer.yandexStat=function(e,t,r){var n={event:e};if(typeof t!=="undefined"){switch(e){case"volumechange":n.volume=t;break;default:n.time=t}}if(typeof r!=="undefined"){switch(e){case"error":n.code=r;break;case"rewound":n.previousTime=r;break;case"adShown":case"started":case"timeupdate":n.duration=r;break;case"volumechange":n.muted=r;break}}window.parent.postMessage(n,"*")};OK$1.VideoPlayer.watchLater=function(e,t,r,n){new Promise(function(a,o){require(["OK/utils/utils"],a,o)}).then(function(a){return a&&a.default||a}).then(function(a){a.ajax({url:"/dk",data:{"cmd":"VideoWatchLaterBlock","st.vvwl.action":t?"watchLater":"removeWatchLater","st.vvwl.movieId":e}}).done(r).fail(n)})};OK$1.VideoPlayer.yandexError=function(e,t){var r=0;switch(e&&e.toLowerCase().replace(/_/g,"")){case"movienotready":case"uploading":case"creating":case"processing":case"offline":case"livenotstarted":case"liveended":case"onmoderation":r=100;break;case"moviedeleted":case"groupnotfound":case"usernotfound":r=101;break;case"blocked":case"censored":r=102;break;case"notfound":r=103;break;case"copyrightsrestricted":r=150;break;case"accessdenied":case"groupaccessdenied":case"closedprofile":case"limitedaccess":case"movienoaccess":case"weberrornoaccess":r=151;break;case"videoembeddisabled":case"videoembeddisabledpartner":r=152;break;case"videoembeddisabledcountry":case"movieunavailableforregion":r=153;break;case"player":r=5;break;default:r=0;break}OK$1.VideoPlayer.yandexStat("error",t||0,r)};OK$1.VideoPlayer.closePopLayer=function(){OK$1.hookModel.setHookContent("PopLayer","")};OK$1.VideoPlayer.pushTmrStat=function(e,t){new Promise(function(r,n){require(["OK/metrics/MyTrackerService"],r,n)}).then(function(r){return r&&r.default||r}).then(function(r){r.myTrackerService.trackCustomGoal(e,{params:t})})};